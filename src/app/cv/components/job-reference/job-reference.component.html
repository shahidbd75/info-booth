<mat-card>
  <mat-card-header>
    <mat-card-title>Reference</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <form [formGroup]="formGroup">
      <div class="row">
        <div class="col-md-8 col-sm-12">
          <div class="row">
            <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12">
              <label for="personReferenceId" class="form-label">Reference Person</label>
              <ng-select
                [items]="persons$ | async"
                id="personReferenceId"
                [searchable]="true"
                bindValue="id"
                bindLabel="name"
                placeholder="Please select a person"
                formControlName="referencePersonId"></ng-select>
            </div>
            <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12">
              <label for="designationId" class="form-label">Designation</label>
              <ng-select
                [items]="designations$ | async"
                id="designationId"
                bindValue="id"
                bindLabel="name"
                formControlName="designationId"></ng-select>
            </div>
            <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12">
              <label for="instituteName" class="form-label">Institute/Organization</label>
              <input class="form-control" type="text" formControlName="institute" />
            </div>
            <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12">
              <label for="relation" class="form-label">Relation</label>
              <ng-select [items]="relations$ | async" id="relation" bindValue="id" bindLabel="name" formControlName="relation"></ng-select>
            </div>
            <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12">
              <div class="mt-4">
                <mat-checkbox formControlName="isActive" id="isActive">Is Active</mat-checkbox>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-2 col-sm-12">
          <mat-card>
            <mat-card-header>
              <mat-list>
                <mat-list-item>Phone:</mat-list-item>
                <mat-list-item>Occupation:</mat-list-item>
                <mat-list-item>Village:</mat-list-item>
              </mat-list>
            </mat-card-header>
          </mat-card>
        </div>
      </div>
    </form>
  </mat-card-content>
  <mat-card-actions class="action-button-container">
    <button mat-raised-button (click)="onSave()" color="primary" [disabled]="!formGroup.valid">Save</button>
    <button mat-raised-button (click)="onClear()" color="accent">Clear</button>
  </mat-card-actions>
</mat-card>
<mat-card>
  <mat-card-content>
    <div class="mat-elevation-z8">
      <table mat-table #table [dataSource]="dataSource">
        <ng-container matColumnDef="personName">
          <th mat-header-cell *matHeaderCellDef>Reference Name</th>
          <td mat-cell *matCellDef="let row">{{ row.personName }}</td>
        </ng-container>
        <ng-container matColumnDef="occupation">
          <th mat-header-cell *matHeaderCellDef>Occupation</th>
          <td mat-cell *matCellDef="let row">{{ row.occupation }}</td>
        </ng-container>
        <ng-container matColumnDef="designation">
          <th mat-header-cell *matHeaderCellDef>Designation</th>
          <td mat-cell *matCellDef="let row">{{ row.designation }}</td>
        </ng-container>
        <ng-container matColumnDef="mobile">
          <th mat-header-cell *matHeaderCellDef>Mobile</th>
          <td mat-cell *matCellDef="let row">{{ row.phone }}</td>
        </ng-container>
        <ng-container matColumnDef="relation">
          <th mat-header-cell *matHeaderCellDef>Relation</th>
          <td mat-cell *matCellDef="let row">{{ row.relation }}</td>
        </ng-container>
        <ng-container matColumnDef="actions">
          <th mat-header-cell *matHeaderCellDef>Action</th>
          <td mat-cell *matCellDef="let element">
            <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Exit and delete menu">
              <mat-icon>more_vert</mat-icon>
            </button>
            <mat-menu #menu="matMenu">
              <button mat-menu-item color="primary" (click)="onEdit(element)">
                <mat-icon aria-label="Edit">edit</mat-icon>
                <span>Edit</span>
              </button>
              <button mat-menu-item color="warn" (click)="onDelete(element)">
                <mat-icon aria-label="Delete">delete</mat-icon>
                <span>Delete</span>
              </button>
            </mat-menu>
          </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="columns"></tr>
        <tr mat-row *matRowDef="let row; columns: columns"></tr>
      </table>
    </div>
  </mat-card-content>
</mat-card>
